{% extends '../index.html' %}

{% load static %}

{% block content %}
 <main id="main-container">
                
                <div class="content">
        <!-- Seances en attente de validation -->
        <div class="block block-rounded">
            <div class="block-header">
                <h3 class="block-title">Séances en attente de validation</h3>
                <div class="block-options">
                    <button type="button" class="btn-block-option">
                        <i class="si si-settings"></i>
                    </button>
                </div>
            </div>
            <div class="block-content">
                <p class="font-size-sm text-muted">Veuillez consulter ces séances et les valider si elles ont bien été résumées. Vous pouvez également les modifier.</p>
                <div class="table-responsive">
                    <table class="table table-bordered table-striped table-vcenter">
                        <thead>
                            <tr>
                                <th>Intitulé</th>
                                <th style="width: 20%;">Écrit par</th>
                                <th style="width: 20%;">Début</th>
                                <th style="width: 20%;">Fin</th>
                                <th class="text-center" style="width: 100px;">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for seance in seances_en_attente %}
                                <tr>
                                    <td class="font-w600 font-size-sm">
                                        <a href="/main/info_seance/{{seance.id}}/">{{ seance.intitule }}</a>
                                    </td>
                                    <td>
                                        {{ seance.auteur.nom }} {{ seance.auteur.prenom }}
                                    </td>
                                    <td>
                                        {{ seance.date_et_heure_debut }}
                                    </td>
                                    <td>
                                        {{ seance.date_et_heure_fin }}
                                    </td>
                                    <td class="text-center">
                                        

                                            <a href="/main/valider_seance/{{seance.id}}/" class="btn btn-sm btn-alt-primary" data-toggle="tooltip" title="valider">
                                                <i class="fa fa-fw fa-times"></i>
                                             </a>
                            
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- END Seances en attente de validation -->

        <div class="block block-rounded">
            <div class="block-header">
                <h3 class="block-title">Séances validées</h3>
                <div class="block-options">
                    <button type="button" class="btn-block-option">
                        <i class="si si-settings"></i>
                    </button>
                </div>
            </div>
            <div class="block-content">
                <p class="font-size-sm text-muted">Veuillez consulter vos séances passées. Vous pouvez également modifier certains détails.</p>
                <div class="table-responsive">
                    <table class="table table-bordered table-striped table-vcenter">
                        <thead>
                            <tr>
                                <th>Intitulé</th>
                                <th style="width: 20%;">Écrit par</th>
                                <th style="width: 20%;">Début</th>                            
                                <th style="width: 20%;">Fin</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for seance in seances_validees %}
                            <tr>
                                <td class="font-w600 font-size-sm">
                                    <a href="/main/info_seance/{{seance.id}}/">{{ seance.intitule }}</a>
                                </td>
                                <td>
                                    {{ seance.auteur.nom }} {{ seance.auteur.prenom }}
                                </td>
                                <td>
                                    {{ seance.date_et_heure_debut }}
                                </td>
                                <td>
                                    {{ seance.date_et_heure_fin }}
                                </td>
                                
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


                </div>
                <!-- END Page Content -->
            </main>
          
  {% endblock %}

{% block scripts %} 
<script>
        $(document).ready(function() {
            // Sélectionne tous les éléments de la colonne Intitulé
            var seanceIntitules = $("table tbody td:nth-child(0) a");
            
            // Ajoute un événement de clic pour chaque élément de la colonne Intitulé
            seanceIntitules.click(function(e) {
                e.preventDefault();
                
                // Récupère les informations de la ligne correspondante
            
                $("#seanceModal").modal("show");
            });
        });
</script>
{% endblock %}

